(this.webpackJsonpmessagelist=this.webpackJsonpmessagelist||[]).push([[0],{178:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(27),o=a.n(r),l=(a(93),a(43)),i=a(87),c=a(60),u=function(e){var t=e.username,a=e.description,n=e.duration,s=e.date,r=e.showDetail;return console.log("dddd",e),console.log("dddd",t),console.log("dddd",a),console.log("dddd",n),console.log("dddd",s),{username:t,description:a,duration:n,date:s,showDetail:r}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;console.log("ID",t);var a=e.filter((function(e){return e._id!==t}));return console.log("state",a),console.log(a),a},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;console.log("Before",e),console.log("ID",t);var a,n=Object(c.a)(e);try{for(n.s();!(a=n.n()).done;){var s=a.value;s._id===t&&(s.showDetail=!s.showDetail)}}catch(o){n.e(o)}finally{n.f()}var r=e;return console.log("After",r),r},h=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,n=t,s=Object(c.a)(n);try{for(s.s();!(e=s.n()).done;){var r=e.value;r._id===a.id&&(r.description=a.description,r.duration=a.duration,r.date=a.date,r.username=a.username)}}catch(o){s.e(o)}finally{s.f()}return n},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=null;switch(t.type){case"INITIAL_MESSAGES":return t.msg?t.msg:e;case"ADD_MESSAGE":return console.log("messages as state!!!!!!!!!!!!!!!!!!!!!!!",a),a=[].concat(Object(i.a)(e),[u(t)]),console.log("messages as state",a),a;case"DELETE_MESSAGE":return console.log("del ddd"),a=m(e,t.id),a;case"SHOW_DETAIL":return console.log("show details"),a=d(e,t.id),a;case"CLEAR_MESSAGES":return a=[],a;case"EDIT_MESSAGE":return a=h(e,t),a;default:return e}},p=a(22),v=a(20),b=a(8),f=(a(98),a(14)),E=a(15),C=a(17),D=a(16),y=function(e){Object(C.a)(a,e);var t=Object(D.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar navbar-dark bg-primary navbar-expand-lg"},s.a.createElement(v.b,{to:"/",className:"navbar-brand"},"MessageList"),s.a.createElement("div",{className:"collpase navbar-collapse"},s.a.createElement("ul",{className:"navbar-nav mr-auto"},s.a.createElement("li",{className:"navbar-item"},s.a.createElement(v.b,{to:"/",className:"nav-link"},"Message")),s.a.createElement("li",{className:"navbar-item"},s.a.createElement(v.b,{to:"/create",className:"nav-link"},"Create Message")),s.a.createElement("li",{className:"navbar-item"},s.a.createElement(v.b,{to:"/user",className:"nav-link"},"Create User")))))}}]),a}(n.Component),S=a(5),O=a(40),j=a.n(O),k=a(64),M=a(9),N=a.n(M),A=function(e){var t={type:"DELETE_MESSAGE",id:e};return console.log("action in remove",t),t},w=function(e){Object(C.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).deleteMessage=n.deleteMessage.bind(Object(S.a)(n)),n.getAge=n.getAge.bind(Object(S.a)(n)),n.state={age:0},n}return Object(E.a)(a,[{key:"deleteMessage",value:function(e){N.a.delete("http://localhost:5000/messages/"+e).then((function(e){console.log(e.data)})).then(this.props.deleteMessage(e))}},{key:"getAge",value:function(e,t){var a=this;N.a.get("http://localhost:5000/users/"+t).then((function(e){a.setState({age:e.data[0].age})})).then(this.props.showDetail(e._id)).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.message;return s.a.createElement("tr",null,s.a.createElement("td",{onClick:function(){e.getAge(t,t.username)}},t.username),s.a.createElement("td",null,t.showDetail&&this.state.age),s.a.createElement("td",null,t.description),s.a.createElement("td",null,t.date.substring(0,10)),s.a.createElement("td",null,s.a.createElement(v.b,{to:"/edit/"+t._id},"edit")," | ",s.a.createElement("a",{href:"#",onClick:function(){e.deleteMessage(t._id)}},"delete")))}}]),a}(n.Component),U=Object(p.b)((function(e){return{messages:e}}),{deleteMessage:A,showDetail:function(e){var t={type:"SHOW_DETAIL",id:e};return console.log("action in detail",t),t}})(w),_=function(){var e=Object(k.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/messages");case 3:return t=e.sent,console.log(t),e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.error("===\n ERROR fetchInitialMessageArray \n===");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),I=function(e){Object(C.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).deleteMessageAll=n.deleteMessageAll.bind(Object(S.a)(n)),n.state={messages:[]},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(j.a.mark((function e(){var t,a=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N.a.get("http://localhost:5000/messages/").then((function(e){a.setState({messages:e.data})})).catch((function(e){console.log(e)})),e.next=3,_();case 3:t=e.sent,this.props.initializeMessage(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteMessageAll",value:function(){N.a.delete("http://localhost:5000/messages/").then((function(e){console.log(e.data)})).then(this.props.clearMessages()).catch((function(e){console.log(e)}))}},{key:"messageList",value:function(){var e=this.props.messages;return console.log("messages",e),e.map((function(e){return s.a.createElement(U,{message:e,key:e._id})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h3",null,"Messages"),s.a.createElement("table",{className:"table"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Username"),s.a.createElement("th",null,"Age"),s.a.createElement("th",null,"Description"),s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,this.messageList())),s.a.createElement("div",{className:"btn btn-warning btn-lg",onClick:function(){return e.deleteMessageAll()}},"Clear"))}}]),a}(n.Component),x=Object(p.b)((function(e){return{messages:e}}),{deleteMessage:A,clearMessages:function(){var e={type:"CLEAR_MESSAGES"};return console.log("action in clear",e),e},initializeMessage:function(e){var t={type:"INITIAL_MESSAGES",msg:e};return console.log("action in initialize",t),t}})(I),L=a(44),G=a.n(L),T=(a(76),function(e){Object(C.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(S.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(S.a)(n)),n.onChangeDuration=n.onChangeDuration.bind(Object(S.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(S.a)(n)),n.onSubmit=n.onSubmit.bind(Object(S.a)(n)),n.state={username:"",description:"",duration:0,date:new Date,users:[]},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.a.get("http://localhost:5000/messages/"+this.props.match.params.id).then((function(t){e.setState({username:t.data.username,description:t.data.description,duration:t.data.duration,date:new Date(t.data.date)})})).catch((function(e){console.log(e)})),N.a.get("http://localhost:5000/users/").then((function(t){t.data.length>0&&e.setState({users:t.data.map((function(e){return e.username}))})})).catch((function(e){console.log(e)}))}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeDuration",value:function(e){this.setState({duration:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,description:this.state.description,duration:this.state.duration,date:this.state.date};console.log(t),N.a.post("http://localhost:5000/messages/update/"+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),window.location="/"}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",null,"Edit Message"),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Username: "),s.a.createElement("select",{ref:"userInput",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername},this.state.users.map((function(e){return s.a.createElement("option",{key:e,value:e},e)})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Description: "),s.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Date: "),s.a.createElement("div",null,s.a.createElement(G.a,{selected:this.state.date,onChange:this.onChangeDate}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"submit",value:"Edit Message Log",className:"btn btn-primary"}))))}}]),a}(n.Component)),q=Object(p.b)((function(e){return{messages:e}}),{editMessage:function(e,t,a,n,s){var r={type:"EDIT_MESSAGE",id:e,username:t,description:a,duration:n,date:s};console.log("action in edit",r)}})(T),R=function(e){Object(C.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(S.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(S.a)(n)),n.onChangeDuration=n.onChangeDuration.bind(Object(S.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(S.a)(n)),n.onSubmit=n.onSubmit.bind(Object(S.a)(n)),n.state={username:"",description:"",duration:0,date:new Date,users:[],showDetail:!1},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.a.get("http://localhost:5000/users/").then((function(t){t.data.length>0&&e.setState({users:t.data.map((function(e){return e.username})),username:t.data[0].username})})).catch((function(e){console.log(e)}))}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeDuration",value:function(e){this.setState({duration:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,description:this.state.description,duration:this.state.duration,date:this.state.date,showDetail:this.state.showDetail};console.log(t),N.a.post("http://localhost:5000/messages/add",t).then((function(e){return console.log(e.data)})).then(this.props.addMessage(this.state.username,this.state.description,this.state.duration,this.state.date,this.state.showDetail)),window.location="/"}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",null,"Create New Message"),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Username: "),s.a.createElement("select",{ref:"userInput",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername},this.state.users.map((function(e){return s.a.createElement("option",{key:e,value:e},e)})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Description: "),s.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Date: "),s.a.createElement("div",null,s.a.createElement(G.a,{selected:this.state.date,onChange:this.onChangeDate}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"submit",value:"Create Message",className:"btn btn-primary"}))))}}]),a}(n.Component),z=Object(p.b)((function(e){return{messages:e}}),{addMessage:function(e,t,a,n,s){var r={type:"ADD_MESSAGE",username:e,description:t,duration:a,date:n,showDetail:s};return console.log("action in add",r),r}})(R),B=function(e){Object(C.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(S.a)(n)),n.onSubmit=n.onSubmit.bind(Object(S.a)(n)),n.onChangeAge=n.onChangeAge.bind(Object(S.a)(n)),n.state={username:"",age:null},n}return Object(E.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeAge",value:function(e){this.setState({age:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,age:this.state.age};console.log(t),N.a.post("http://localhost:5000/users/add",t).then((function(e){return console.log(e.data)})),window.location="/create"}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",null,"Create New User"),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Username: "),s.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername}),s.a.createElement("label",null,"Age: "),s.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.age,onChange:this.onChangeAge})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"submit",value:"Create User",className:"btn btn-primary"}))))}}]),a}(n.Component);var H=function(){return s.a.createElement(v.a,null,s.a.createElement("div",{className:"container"},s.a.createElement(y,null),s.a.createElement("br",null),s.a.createElement(b.a,{path:"/",exact:!0,component:x}),s.a.createElement(b.a,{path:"/edit/:id",component:q}),s.a.createElement(b.a,{path:"/create",component:z}),s.a.createElement(b.a,{path:"/user",component:B})))},J=function(e){var t=e.store;return s.a.createElement(p.a,{store:t},s.a.createElement(v.a,null,s.a.createElement(b.a,{path:"/:filter?",component:H})))},W=Object(l.b)(g);o.a.render(s.a.createElement(J,{store:W}),document.getElementById("root"))},88:function(e,t,a){e.exports=a(178)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.712b70e1.chunk.js.map